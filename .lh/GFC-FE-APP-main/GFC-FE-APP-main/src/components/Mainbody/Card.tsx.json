{
    "sourceFile": "GFC-FE-APP-main/GFC-FE-APP-main/src/components/Mainbody/Card.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1752656141107,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1752656141107,
            "name": "Commit-0",
            "content": "import React, { memo, useState } from \"react\";\r\nimport MoreVertSharpIcon from '@mui/icons-material/MoreVertSharp';\r\nimport StorageSharpIcon from '@mui/icons-material/StorageSharp';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport { IconButton, Menu, MenuItem, ListItemIcon, ListItemText } from '@mui/material';\r\nimport formimage from \"../../assets/images/t-shirt.png\";\r\nimport \"./Mainbody.scss\"\r\n\r\n// displaying document name, created time on home page\r\nexport const Card: React.FC<any> = memo(({ document, openForm, deleteForm }) => {\r\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\r\n    event.stopPropagation(); // Prevent card click\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleDelete = (event: React.MouseEvent) => {\r\n    event.stopPropagation(); // Prevent card click\r\n    deleteForm(document._id);\r\n    handleClose();\r\n  };\r\n\r\n  const handleCardClick = () => {\r\n    // Opens the document - event stopping is handled by the action area\r\n    openForm(document._id);\r\n  };\r\n\r\n  return <div className=\"doc-card\" onClick={handleCardClick}>\r\n    <img src={formimage} alt=\"no-image\" className=\"doc-image\"></img>\r\n    <div className=\"doc-content\">\r\n      <div className=\"doc-info\">\r\n        <p className=\"doc-name\">{document.documentName}</p>\r\n        <div className=\"doc-last-opened-time\">\r\n          <div className=\"content_left\">\r\n            <StorageSharpIcon className=\"storage-icon\" />\r\n            {document.updatedOn}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"doc-action\" onClick={(e) => e.stopPropagation()}>\r\n        <IconButton onClick={handleClick} size=\"small\">\r\n          <MoreVertSharpIcon />\r\n        </IconButton>\r\n        <Menu\r\n          anchorEl={anchorEl}\r\n          open={open}\r\n          onClose={handleClose}\r\n          onClick={(e) => e.stopPropagation()} // Prevent card click when clicking menu\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'right',\r\n          }}\r\n          transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          MenuListProps={{\r\n            onClick: (e) => e.stopPropagation() // Also prevent on menu list\r\n          }}\r\n        >\r\n          <MenuItem onClick={handleDelete}>\r\n            <ListItemIcon>\r\n              <DeleteIcon fontSize=\"small\" color=\"error\" />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Delete\" />\r\n          </MenuItem>\r\n        </Menu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n});\r\n"
        }
    ]
}